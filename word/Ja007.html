<HTML>
<TITLE>インライン関数</TITLE>
<BODY bgcolor="#FFFFFF"><DIV ALIGN=CENTER><!--#geoguide--></DIV>
<H2><font color="red">インライン関数(inline function)</font></H2>
<p><b>int min(int x,int y){<br>
  　return( (x &lt; y) ? x : y);<br>
  }</b><br>
  例えばデータのソートを行う時などに、minという関数(引数のうち小さい物を返す関数) を作ることがあるだろう。この関数をコード中で使用する時には、<br>
  <b>c = min( a , b );</b><br>
  と書いて使用されるはずである。しかしこのような関数の形でなくても、プログラム中で<br>
  <b>c = ( (a &lt; b) ? a : b);</b><br>
  書けばよいとも考えられる。関数形式の特徴は、<br>
  ○タイプ数が減るのでバグが出にくく、 見る人が(当然自分も)分かりやすい<br>
  ×関数の呼び出しなどに関して、引数や戻り値の受け渡し操作を必要としたり、一時オブジェクトを生成するために実行速度が遅くなる<br>
  <br>
  このような関数形式でのデメリットを解決するのがインライン関数である。といっても別に新しい関数でも何でもない。ただ関数の最初にinlineの文字を付加するだけでよい。こうするとプログラム内部で関数の呼び出しは行われない。といわれると？と思うかもしれないが、コンパイルの時に、関数が展開され、関数を使って<br>
  <b>c = min( a , b );</b><br>
  と記述した場合でも、<br>
  <b>c = ( (a &lt; b) ? a : b);</b><br>
  と書いてあったかのように機械語に翻訳するため、実質関数の呼び出しはなくなるのである。ただ実行効率があがるからといって全ての関数をinlineにするのはよくないが、実行効率が要求される(すなわち何回も呼び出される)ような短い関数は、インライン関数として実現するほうがよいとされている。ただし、C言語では使えないので注意が必要だ。</p>
</BODY>
</HTML>

